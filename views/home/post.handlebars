<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{post.title}}</title>
    <link rel="stylesheet" href="/styles/style.css">
</head>
<body>
    <div class="container">
        <h2>{{post.title}}</h2>
        <p>{{post.content}}</p>
        <p>Created on: {{post.createdAt}}</p>
        <hr>
        <h3>Comments</h3>
        {{#if comments.length}}
            <ul>
                {{#each comments}}
                    <li>
                        <p>{{this.content}}</p>
                        <p>Commented by: {{this.User.username}}</p>
                        <p>Created on: {{this.createdAt}}</p>
                    </li>
                {{/each}}
            </ul>
        {{else}}
            <p>No comments yet.</p>
        {{/if}}
        <hr>
        {{#if authenticated}}
            <form action="/posts/{{post.id}}/comments" method="post">
                <textarea name="content" rows="4" cols="50" required></textarea><br>
                <input type="submit" value="Submit Comment">
            </form>
        {{else}}
            <p><a href="/login">Login</a> to leave a comment.</p>
        {{/if}}
        <p><a href="/">Back to Homepage</a></p>
    </div>
</body>
</html>
